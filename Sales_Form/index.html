<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Sales</title>
    <script src='https://kit.fontawesome.com/a076d05399.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Acme' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Satisfy' rel='stylesheet'>
    <link rel="shortcut icon" href="https://image.flaticon.com/icons/svg/2983/2983719.svg">
    <link rel="stylesheet" href="bea5.css">
    <script src="ReadData.js"></script>
    <script src="AddOth3rRow(Sales).js"></script>
    <script src="RetrieveUser2.js"></script>
    <script src="InsertSales.js"></script>
    <script src="FormValidationS.js"></script>
    <script type="text/javascript">
    //Function for the inout (Total Register and Total Show Up)
    function thefocus(value){
      //alert(value.id);
      document.getElementsByClassName(value.id)[0].style.transform = "translate(-20px,-8px)";
      document.getElementsByClassName(value.id)[0].style.color = "#1a73e8";
      document.getElementsByClassName(value.id)[0].style.fontSize = "0.75rem";
      document.getElementsByClassName(value.id)[0].style.backgroundColor = "#EFEFFF";
      document.getElementsByClassName(value.id)[0].style.padding = "0 3px";
      document.getElementsByClassName(value.id)[0].style.zIndex =2;

    }
    function remain(value){
      if(value.value == ""){
        document.getElementsByClassName(value.id)[0].style.transform = "translate(0,10px)";
        document.getElementsByClassName(value.id)[0].style.color = "gray";
        document.getElementsByClassName(value.id)[0].style.fontSize = "1rem";
        document.getElementsByClassName(value.id)[0].style.backgroundColor = "transparent";
      }
      else{
        document.getElementsByClassName(value.id)[0].style.color = "black";
      }
    }
    function fetchCurrency(){
      fetch("https://api.exchangeratesapi.io/latest?base=USD")
        .then(response=>response.json())
        .then(rates =>{console.log(rates.rates.MYR);
          document.getElementById('Conversion').innerHTML = "Conversion Rate: USD 1 = MYR "+rates.rates.MYR;
          document.getElementById('ConversionRate').value = rates.rates.MYR;
        });
    }
    </script>

  </head>
  <body onload="read_value()">
    <div class="artboard" >
      <form>
        <img id="logo" src="https://image.flaticon.com/icons/svg/2752/2752985.svg" alt="New Event" width=100 height = 100>
        <h2 id="Title">Event Form</h2>
        <select class="EName" id="EName" onchange="provideDetails()">
          <option>Event Name</option>
        </select>
        <div id="details">
          <p id="date">Date: 1 July 2020 </p>
          <p id="time">Time: 9:00 AM</p>
          <p id="Venue">Venue/Hosting Platform: Wisma Quest</p>
        </div>
        <hr style="width:90%;margin-left:5%;">
        <table id="Show">
          <tr>
            <td>
              <label class="Register">Total Register</label>
              <input type="number" required onfocus="thefocus(this)" onfocusout = "remain(this)" id="Register" ></td>
            <td>
              <label class="ShowUP">Total Show UP</label>
              <input type="number" required onfocus="thefocus(this)" onfocusout = "remain(this)" id="ShowUP" ></td>
          </tr>
        </table>
        <table id="Pricing">
          <tr>
            <th>Package</th>
            <th>Qty</th>
            <th colspan="2">Total Price</th>
            <th>Edit</th>
          </tr>
          <tr>
            <th colspan="5"> <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></th>
          </tr>
          <tr>
            <th colspan="5" style="margin-left: 40px">Loading the data...</th>
          </tr>
        </table>

        <p style="font-size: 1.2rem; text-align: center;margin-bottom: 0px;" id="TotalCollection">Total Collection: RM 00.00</p>
        <p style="font-size: 0.8rem; text-align: center;margin: 0px 0px 0px 0px;" id="Conversion">Conversion Rate: USD 1 = MYR 4.17</p>
        <button type="button" name="button" onclick="checkConditionb4AddRow()" style="margin-top: 20px;margin-bottom: 20px;">Add New Payment</button>
        <button type="button" id="Submit" name="button" style="margin-bottom: 20px;" onclick="validation()">Submit</button>
        <div class="Footer">
          <p id="Footer" style="text-align: center;margin:0px">
            <img id="creator" src="" alt="PIC">
          </p>
          <p id="BackHome" style="text-align: center;margin-top: 10px;color:#333;cursor:pointer;"
          onmouseover="document.getElementById('BackHome').innerHTML='Confirm?';
          document.getElementById('BackHome').style.color='#00203FFF';"
          onmouseout="document.getElementById('BackHome').innerHTML='Back to Menu Page'
          document.getElementById('BackHome').style.color='#333';"
          onclick ="goHome()">
            Back to Menu Page
          </p>
        </div>
      </form>

        <input type="hidden" id="ConversionRate">
        <div id="popup1" class="overlay">
            <div class="popup">
              <h2 id="PaymentType">Full Payment</h2>
              <h4 id="PackageTitle">Package Name: </h4>
              <table id="FullPayment">
                <tr>
                  <td id="ReadPrice">MYR 1000.00</td>
                  <td> X </td>
                  <td class="Quantity4" style="width:40px;">
                    <input type="number" id="Quantity" value="" title="Quantity for Mega Pack" style="width:35px; font-size: 1.2rem;"
                    oninput = "document.getElementById('Comment').innerHTML = 'Entering the quantity...';"onchange="calculate()">
                  </td>
                  <td> = </td>
                  <td>
                  </td>
                <td id="Subtotal">0.00</td>
                </tr>
              </table>
              <input type="hidden" id="indexNo" value="-1">
              <input type="hidden" id="lastRow" value="-1">
              <input type="hidden" id="buttonNo" value="-1">
              <input type="hidden" id="EventID" value="">
              <p id="Comment"></p>
              <table id="Choice">
                <tr>
                  <td>
                    <button type="button" name="button" onclick="differentiate()" id="Save">Save</button>
                  </td>
                  <td>
                    <button type="button" name="button" onclick="location.href='#';" id="Cancel" >Cancel</button>
                  </td>
                </tr>
              </table>
          </div>

  </body>
</html>
